# Video Cut Generator

## Requirements

`opencv-python` is used in `generate_cuts` to display movies.

`ffmpeg` is used in `make_cuts` and `splice` for cutting out segments of the movies, and for splicing them together. `ffmpeg` is called directly from the system shell, so make sure that you either have it in your PATH or have the executable in the same directory as the Python scripts.

Make sure that `files.py` is in the same folder when scripts are ran, since it is referenced by the other modules.

## generate_cuts

`generate_cuts` displays movies that are referenced in `clips.csv`, starting play at the expected location of the start of the cut and playing the movie again at the expected location of the end of the cut. Use the movie controls to pinpoint the precise location of the cuts, which will then be saved into `cuts.csv`.

Note that the movie will be played 2 seconds prior to the cut to allow for precisely finding the cut location.

### Movie controls

```
Key   | Purpose
----------------------------------------------------------------
Space | Toggle play/pause
    F | Double playback speed
    S | Halve playback speed

    M | Mark movie cut at playback point
    R | Redo cut (starts over at -2 second position)

    Q | Quit application, saving current progress into clips.csv
    K | Skip current cut location (i.e. for nonsensical times)
```

### Usage examples (Windows)

Run commands in a PowerShell window (Shift + right click in folder containing the Python scripts, then click "Open PowerShell Window")

To run generate_cuts in the current folder:

`py generate_cuts.py .`

In another folder:

`py generate_cuts.py /path/to/folder/`

## make_cuts

`make_cuts` uses the cuts from the `cuts.csv` file generated by `generate_cuts` to make the cut movie clips for each cut chosen by the user. Cuts will be saved in the directory `output` within the working directory, and be output in the format `<clip_id>.mp4`.

To run make_cuts from the command line, use the same calling conventions as generate_cuts (ex. `py make_cuts.py .` or `py make_cuts.py /path/to/folder`).
